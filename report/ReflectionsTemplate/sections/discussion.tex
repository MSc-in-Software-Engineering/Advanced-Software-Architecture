\section{Dicussion}

The main goal of this study was to design a complex system focusing on the Industry 4.0 production domain and working with different architectures and technologies. The main architectural challenge in designing such a system was to outline how different components interact with each other to achieve a common task to support the designed system. The major quality requirements in the designed system are interoperability, deployability and availability. This means that the system should be deployable and different components of the production system should be able to communicate with each other to transfer data while also operating with nominal downtime. Our solution achieves these goals by involving the use of multiple strategies and techniques in designing the architecture. We have implemented an event driven architecture to ensure high availability of the production system. Components in an event driven architecture are loosely coupled, which ensures if a service fails, others can still operate independently making the system highly available with less downtime. Additionally, the microservice architecture is used for the maintainability factor of the system. Individual microservices can be deployed, upgraded, and rolled back independently, reducing the risk associated with changes. Different microservices can be developed using different technologies best suited for their requirements. To accommodate uninterrupted communication between components, a publish-subscribe architecture is implemented using MQTT and Kafka. These technologies further benefit the scalability factor of the system. The performance of the system is also measured through the experiment conducted to evaluate the message latency. By using a single broker in contrast to multiple brokers, it was discovered that using one broker had lower message latency which further justifies our technology choices. In conclusion, our architectural choices for the system design have achieved all the defined quality requirements, but it also consequently have some trade-offs.


